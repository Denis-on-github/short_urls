{% extends 'from_long_to_short/base.html' %}

{% block urlform %}

<h1>Make your link shorter!</h1>

<form action="{% url 'home' %}" method="post">
    {% csrf_token %}
    <div class="form-error">{{ form.non_field_errors }}</div>

    {% for f in form %}
    <p><label class="form-label" for="{{ f.id_for_label }}">{{ f.label }}: </label>{{ f }}</p>
    <div class="form-error">{{ f.errors }}</div>
    {% endfor %}

    <button type="submit">Give me short URL!</button>
</form>
{% endblock %}

{% block content %}

<h1>{{ title }}</h1>
<ul>
    {% for a in all %}
    <li>
        <h2>{{ a.pk }}</h2>
        <p>{{ a.full_url }}</p>
        <p>{{ a.short_url }}</p>
        <p>{{ a.request_count }}</p>
        <p>{{ a.created_date }}</p>
        <hr>
    </li>
    {% endfor %}
</ul>

{% endblock %}